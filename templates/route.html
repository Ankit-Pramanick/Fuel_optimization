<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Route Input | Fuel Efficient Routing</title>

    <!-- Bootstrap CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #e8f5f2, #f4fbff);
        }

        .card-custom {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .btn-custom {
            background: linear-gradient(90deg, #0f766e, #2563eb);
            border: none;
            color: white;
            padding: 12px 30px;
            border-radius: 30px;
            font-size: 16px;
        }

        .btn-custom:hover {
            opacity: 0.9;
        }

        label {
            font-weight: 500;
        }
    </style>
</head>
<body>

<div class="container d-flex align-items-center" style="min-height: 100vh;">
    <div class="row justify-content-center w-100">
        <div class="col-md-8 col-lg-6">
            <div class="card-custom">

                <h3 class="fw-bold text-center mb-3">
                    Enter Route Details
                </h3>

                <p class="text-muted text-center mb-4">
                    Provide the route details to find the most fuel-efficient path
                    using AI-based prediction.
                </p>

                <form>
                    <div class="mb-3">
                        <label for="source" class="form-label">Source Location</label>
                        <input type="text" class="form-control" id="source" placeholder="Enter starting point">
                    </div>

                    <div class="mb-3">
                        <label for="destination" class="form-label">Destination Location</label>
                        <input type="text" class="form-control" id="destination" placeholder="Enter destination">
                    </div>

                    <div class="mb-4">
                        <label for="vehicle" class="form-label">Vehicle Type</label>
                        <select class="form-select" id="vehicle">
                            <option selected disabled>Select vehicle</option>
                            <option>Car</option>
                            <option>Bike</option>
                        </select>
                    </div>

                    <div class="text-center">
                        <button type="button" class="btn btn-custom" onclick="predictRoute()">
                        Find Fuel-Efficient Route â†’
                    </button>

                    </div>
                </form>

            </div>
        </div>
    </div>
</div>
<script>
function predictRoute() {

    console.log("Function started");

    const segments = [
    [60,1.2,2500,45,0,55,1,2,20],
    [58,1.1,2400,40,0,52,1,2,18],
    [65,1.3,2600,50,0,60,1,3,22]
];


    fetch("/predict_route", {
        method: "POST",
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify({
            segments: segments
        })
    })
    .then(response => {
        console.log("Response received", response);
        return response.json();
    })
    .then(data => {
        console.log("Prediction:", data);
        localStorage.setItem("routeFuel", JSON.stringify(data));
window.location.href = "/dashboard";

    })
    .catch(error => {
        console.error("Fetch error:", error);
        alert("Backend connection failed!");
    });
}

</script>


</body>
</html>
